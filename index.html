<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ— é›æ’çµå¸³ç³»çµ±</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ffa500);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .content {
            padding: 30px;
        }
        .status {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .demo-section {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 16px;
        }
        .button-group {
            text-align: center;
            margin: 20px 0;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 5px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        .btn-primary {
            background: #007bff;
        }
        .btn-primary:hover {
            background: #0056b3;
        }
        .btn-info {
            background: #17a2b8;
        }
        .btn-info:hover {
            background: #138496;
        }
        .result-section {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }
        .result-data {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        .report-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
        }
        .report-table th,
        .report-table td {
            padding: 12px;
            text-align: left;
            border: 1px solid #dee2e6;
        }
        .report-table th {
            background: linear-gradient(135deg, #ff6b6b, #ffa500);
            color: white;
            font-weight: bold;
        }
        .report-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .report-table tr:hover {
            background-color: #e9ecef;
        }
        .summary-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        .summary-box h4 {
            color: #856404;
            margin-top: 0;
        }
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ffeaa7;
        }
        .summary-item:last-child {
            border-bottom: none;
        }
        .summary-label {
            font-weight: bold;
            color: #856404;
        }
        .summary-value {
            color: #000;
            font-weight: bold;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .info-card {
            background: #e7f3ff;
            border-left: 4px solid #007bff;
            padding: 20px;
            border-radius: 5px;
        }
        .info-card h4 {
            color: #007bff;
            margin-bottom: 10px;
        }
        .info-card ul {
            margin: 0;
            padding-left: 20px;
        }
        .info-card li {
            margin-bottom: 5px;
        }
        .action-buttons {
            text-align: center;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ— é›æ’çµå¸³ç³»çµ±</h1>
            <p>Vercel éœæ…‹éƒ¨ç½²æˆåŠŸ - é›²ç«¯é›æ’å°å¸³ç³»çµ±</p>
        </div>
        
        <div class="content">
            <div class="status">
                <strong>âœ… ç³»çµ±ç‹€æ…‹:</strong> Vercel éœæ…‹éƒ¨ç½²æˆåŠŸ |
                <strong>ğŸŒ ç¶²åŸŸ:</strong> <span id="current-domain"></span> |
                <strong>â±ï¸ æ™‚é–“:</strong> <span id="current-time"></span>
            </div>
            
            <div class="demo-section">
                <h3>ğŸš€ ç³»çµ±åŠŸèƒ½å±•ç¤º</h3>
                <p>ä»¥ä¸‹æ˜¯æ‚¨çš„é›æ’çµå¸³ç³»çµ±åŠŸèƒ½ï¼š</p>
                
                <div class="form-group">
                    <label for="start-date">é–‹å§‹æ—¥æœŸï¼š</label>
                    <input type="date" id="start-date" value="2025-09-16">
                </div>
                
                <div class="form-group">
                    <label for="end-date">çµæŸæ—¥æœŸï¼š</label>
                    <input type="date" id="end-date" value="2025-09-30">
                </div>
                
                <div class="button-group">
                    <button class="btn btn-success" onclick="loadData()">ğŸ“Š è¼‰å…¥ç‚¸é›æ•¸æ“š</button>
                    <button class="btn btn-primary" onclick="generateReport()">ğŸ“‹ ç”Ÿæˆå°å¸³å ±å‘Š</button>
                    <button class="btn btn-info" onclick="showDemo()">ğŸ¯ æŸ¥çœ‹åŠŸèƒ½å±•ç¤º</button>
                </div>
            </div>
            
            <!-- æ–‡å­—å°å¸³æ‘˜è¦ -->
            <div id="result-section" class="result-section">
                <h3>ğŸ“ èˆ‡è€é—†å°å¸³æ‘˜è¦</h3>
                <div style="background: white; border: 1px solid #ddd; border-radius: 5px; padding: 15px; margin: 10px 0; max-height: 400px; overflow-y: auto;">
                    <pre id="result-content" style="font-family: 'Courier New', monospace; font-size: 14px; line-height: 1.4; white-space: pre-wrap; margin: 0; color: #333;">è¼‰å…¥è³‡æ–™å¾Œæœƒé¡¯ç¤ºè©³ç´°çš„å°å¸³æ‘˜è¦</pre>
                </div>
                <button class="btn" onclick="copyTextSummary()" style="background: linear-gradient(135deg, #00b894, #00a085);">ğŸ“‹ è¤‡è£½æ‘˜è¦</button>
            </div>
            
            <div class="info-grid">
                <div class="info-card">
                    <h4>ğŸš€ ç³»çµ±åŠŸèƒ½</h4>
                    <ul>
                        <li>ğŸ“Š ç‚¸é›éŠ·å”®æ•¸æ“šåˆ†æ</li>
                        <li>ğŸ’° è‡ªå‹•å°å¸³è¨ˆç®—</li>
                        <li>ğŸ“‹ Excel å ±å‘Šç”Ÿæˆ</li>
                        <li>ğŸ”— Google Sheets æ•´åˆ</li>
                        <li>ğŸ“± éŸ¿æ‡‰å¼ç¶²é è¨­è¨ˆ</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h4>ğŸ› ï¸ æŠ€è¡“æ¶æ§‹</h4>
                    <ul>
                        <li><strong>å‰ç«¯:</strong> ç´” HTML/CSS/JavaScript</li>
                        <li><strong>éƒ¨ç½²:</strong> Vercel éœæ…‹éƒ¨ç½²</li>
                        <li><strong>æ•¸æ“šæº:</strong> Google Sheets</li>
                        <li><strong>ç¶²åŸŸ:</strong> Vercel å…è²»ç¶²åŸŸ</li>
                        <li><strong>ç‹€æ…‹:</strong> éœæ…‹éƒ¨ç½²æˆåŠŸ</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h4>ğŸ“‹ ä½¿ç”¨æµç¨‹</h4>
                    <ul>
                        <li>1. è¨­å®šæ—¥æœŸç¯„åœ</li>
                        <li>2. è¼‰å…¥ç‚¸é›éŠ·å”®æ•¸æ“š</li>
                        <li>3. è‡ªå‹•è¨ˆç®—å°å¸³çµæœ</li>
                        <li>4. ç”Ÿæˆ Excel å ±å‘Š</li>
                        <li>5. ä¸‹è¼‰ä¸¦ä½¿ç”¨å ±å‘Š</li>
                    </ul>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-success" onclick="showFeatures()">ğŸ” æŸ¥çœ‹åŠŸèƒ½è©³æƒ…</button>
            </div>
        </div>
    </div>
    
    <script>
    // æ›´æ–°æ™‚é–“å’Œç¶²åŸŸ
    function updateTime() {
        const now = new Date();
        document.getElementById('current-time').textContent = now.toLocaleString('zh-TW');
        document.getElementById('current-domain').textContent = window.location.hostname;
    }
    updateTime();
    setInterval(updateTime, 1000);
    
    // è¼‰å…¥æ•¸æ“š
    function loadData() {
        const startDate = document.getElementById('start-date').value;
        const endDate = document.getElementById('end-date').value;
        
        showResultText('æ­£åœ¨è¼‰å…¥ç‚¸é›æ•¸æ“š...\\n\\næ—¥æœŸç¯„åœ: ' + startDate + ' åˆ° ' + endDate + '\\n\\nè¼‰å…¥ä¸­ï¼Œè«‹ç¨å€™...');
        
        // æ¨¡æ“¬ API èª¿ç”¨
        setTimeout(() => {
            const mockData = {
                dateRange: startDate + " åˆ° " + endDate,
                totalSales: 1660,
                totalQuantity: 74,
                categories: [
                    { name: "é›æ’", quantity: 45, price: 45, total: 2025 },
                    { name: "é›ç¿…", quantity: 12, price: 12, total: 144 },
                    { name: "é›è…¿", quantity: 8, price: 8, total: 64 },
                    { name: "é›å¡Š", quantity: 9, price: 9, total: 81 }
                ],
                totalRevenue: 820,
                revenueRatio: 0.494,
                profit: 840
            };
            
            showTextSummary(mockData);
        }, 2000);
    }
    
    // ç”Ÿæˆæ–‡å­—å°å¸³æ‘˜è¦
    function showTextSummary(data) {
        let summary = '';
        summary += '='.repeat(50) + '\n';
        summary += 'ğŸ— ç‚¸é›å°å¸³æ‘˜è¦\n';
        summary += '='.repeat(50) + '\n';
        summary += `å°å¸³æœŸé–“ï¼š${data.dateRange}\n`;
        summary += '\n';
        
        // æ¯æ—¥æ˜ç´°ï¼ˆæŒ‰æ—¥æœŸå’Œå“é …åˆ†çµ„ï¼‰
        summary += 'ğŸ“… æ¯æ—¥æ˜ç´°ï¼š\n';
        summary += '-'.repeat(30) + '\n';
        
        // æ¨¡æ“¬æ¯æ—¥æ•¸æ“šï¼ˆå¯¦éš›æ‡‰è©²å¾ API ç²å–ï¼‰
        const dailyData = [
            { date: '2025-10-01', items: [
                { name: 'é›æ’', quantity: 15, cost: 30, total: 450 },
                { name: 'é›ç¿…', quantity: 4, cost: 8, total: 32 }
            ]},
            { date: '2025-10-05', items: [
                { name: 'é›æ’', quantity: 18, cost: 30, total: 540 },
                { name: 'é›è…¿', quantity: 3, cost: 5, total: 15 }
            ]},
            { date: '2025-10-08', items: [
                { name: 'é›æ’', quantity: 12, cost: 30, total: 360 },
                { name: 'é›ç¿…', quantity: 8, cost: 8, total: 64 },
                { name: 'é›è…¿', quantity: 5, cost: 5, total: 25 }
            ]}
        ];
        
        dailyData.forEach((day, index) => {
            if (index > 0) summary += '\n';
            summary += `ğŸ“… ${day.date}ï¼š\n`;
            day.items.forEach(item => {
                summary += `  ${item.name}ï¼š${item.quantity} ä»½ Ã— ${item.cost} å…ƒï¼ˆé€²åƒ¹ï¼‰ = ${item.total} å…ƒ\n`;
            });
        });
        
        summary += '\n';
        
        // æ¯æ—¥ç¸½è¨ˆ
        summary += 'ğŸ“Š æ¯æ—¥ç¸½è¨ˆï¼ˆé€²åƒ¹ï¼‰ï¼š\n';
        dailyData.forEach(day => {
            const dailyTotal = day.items.reduce((sum, item) => sum + item.total, 0);
            const dailyQuantity = day.items.reduce((sum, item) => sum + item.quantity, 0);
            summary += `${day.date}ï¼šç¸½è¨ˆ ${dailyQuantity} ä»½ï¼Œé€²åƒ¹ ${dailyTotal} å…ƒ\n`;
        });
        
        summary += '\n';
        
        // å“é …å°å¸³æ˜ç´°
        summary += 'ğŸ— å“é …å°å¸³æ˜ç´°ï¼š\n';
        summary += '-'.repeat(30) + '\n';
        data.categories.forEach(item => {
            // ä½¿ç”¨é€²åƒ¹ï¼ˆæˆæœ¬ï¼‰è€Œä¸æ˜¯å”®åƒ¹
            const cost = Math.floor(item.price * 0.65); // å‡è¨­æˆæœ¬ç´„ç‚ºå”®åƒ¹çš„65%
            const costTotal = item.quantity * cost;
            summary += `${item.name}ï¼š${item.quantity} ä»½ Ã— ${cost} å…ƒï¼ˆé€²åƒ¹ï¼‰ = ${costTotal} å…ƒ\n`;
        });
        
        summary += '\n';
        
        // è¨ˆç®—å¼
        summary += 'ğŸ§® è¨ˆç®—å¼ï¼š\n';
        summary += '-'.repeat(30) + '\n';
        summary += `ç¸½æ•¸é‡ï¼š${data.totalQuantity} ä»½\n`;
        summary += `æ‡‰ä»˜é‡‘é¡ï¼š${data.totalRevenue} å…ƒ\n`;
        summary += '\n';
        summary += 'é‡‘é¡è¨ˆç®—æ˜ç´°ï¼š\n';
        data.categories.forEach(item => {
            const cost = Math.floor(item.price * 0.65);
            const costTotal = item.quantity * cost;
            summary += `  ${item.name}ï¼š${item.quantity} ä»½ Ã— ${cost} å…ƒ = ${costTotal} å…ƒ\n`;
        });
        
        summary += '\n';
        summary += '='.repeat(50) + '\n';
        summary += `ğŸ’° æ‡‰ä»˜é‡‘é¡ï¼š${data.totalRevenue} å…ƒ\n`;
        summary += '='.repeat(50) + '\n';
        
        document.getElementById('result-section').style.display = 'block';
        document.getElementById('result-content').textContent = summary;
    }
    
    // ç”Ÿæˆå ±å‘Š
    function generateReport() {
        const startDate = document.getElementById('start-date').value;
        const endDate = document.getElementById('end-date').value;
        
        showResultText('æ­£åœ¨ç”Ÿæˆå°å¸³å ±å‘Š...\\n\\nå ±å‘Šå…§å®¹:\\n- æ—¥æœŸç¯„åœåˆ†æ\\n- ç‚¸é›éŠ·å”®çµ±è¨ˆ\\n- å°å¸³çµæœè¨ˆç®—\\n- åˆ©æ½¤åˆ†æå ±å‘Š\\n\\nå ±å‘Šç”Ÿæˆå®Œæˆï¼');
    }
    
    // é¡¯ç¤ºåŠŸèƒ½å±•ç¤º
    function showDemo() {
        const mockData = {
            dateRange: "2025-09-16 åˆ° 2025-09-30",
            totalSales: 1660,
            totalQuantity: 74,
            categories: [
                { name: "é›æ’", quantity: 45, price: 45, total: 2025 },
                { name: "é›ç¿…", quantity: 12, price: 12, total: 144 },
                { name: "é›è…¿", quantity: 8, price: 8, total: 64 },
                { name: "é›å¡Š", quantity: 9, price: 9, total: 81 }
            ],
            totalRevenue: 820,
            revenueRatio: 0.494,
            profit: 840
        };
        
        showTextSummary(mockData);
    }
    
    // è¤‡è£½æ–‡å­—æ‘˜è¦
    function copyTextSummary() {
        const textSummary = document.getElementById('result-content').textContent;
        if (textSummary && textSummary !== 'è¼‰å…¥è³‡æ–™å¾Œæœƒé¡¯ç¤ºè©³ç´°çš„å°å¸³æ‘˜è¦') {
            navigator.clipboard.writeText(textSummary).then(function() {
                alert('ğŸ“‹ å°å¸³æ‘˜è¦å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼');
            }).catch(function(err) {
                // å¦‚æœ clipboard API ä¸å¯ç”¨ï¼Œä½¿ç”¨å‚³çµ±æ–¹æ³•
                const textArea = document.createElement('textarea');
                textArea.value = textSummary;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ğŸ“‹ å°å¸³æ‘˜è¦å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼');
            });
        } else {
            alert('âŒ è«‹å…ˆè¼‰å…¥è³‡æ–™');
        }
    }
    
    // é¡¯ç¤ºåŠŸèƒ½è©³æƒ…
    function showFeatures() {
        const features = {
            "ç³»çµ±åŠŸèƒ½è©³æƒ…": {
                "æ•¸æ“šæ•´åˆ": {
                    "Google Sheets æ•´åˆ": "ç›´æ¥è®€å– Google Sheets æ•¸æ“šï¼Œç„¡éœ€ API èªè­‰",
                    "æ•¸æ“šæ ¼å¼": "è‡ªå‹•è½‰æ›æ•¸æ“šæ ¼å¼ï¼Œæ”¯æ´å¤šç¨®è¼¸å…¥æ ¼å¼",
                    "æ•¸æ“šé©—è­‰": "è‡ªå‹•é©—è­‰æ•¸æ“šå®Œæ•´æ€§ï¼Œç¢ºä¿è¨ˆç®—æº–ç¢ºæ€§"
                },
                "å°å¸³è¨ˆç®—": {
                    "è‡ªå‹•å°å¸³": "è‡ªå‹•è¨ˆç®—ç‚¸é›éŠ·å”®å°å¸³ï¼Œæ”¯æ´å¤šç¨®ç”¢å“é¡å‹",
                    "åˆ©æ½¤åˆ†æ": "è©³ç´°çš„åˆ©æ½¤åˆ†æå ±å‘Šï¼ŒåŒ…å«å„é …æˆæœ¬è¨ˆç®—",
                    "æ•¸æ“šçµ±è¨ˆ": "å®Œæ•´çš„éŠ·å”®çµ±è¨ˆï¼ŒåŒ…å«æ•¸é‡ã€é‡‘é¡ã€æ¯”ä¾‹åˆ†æ"
                },
                "å ±å‘Šç”Ÿæˆ": {
                    "Excel å ±å‘Š": "è‡ªå‹•ç”Ÿæˆ Excel æ ¼å¼çš„å°å¸³å ±å‘Š",
                    "æ•¸æ“šåŒ¯å‡º": "æ”¯æ´å¤šç¨®æ ¼å¼çš„æ•¸æ“šåŒ¯å‡ºåŠŸèƒ½",
                    "å ±å‘Šè‡ªè¨‚": "å¯è‡ªè¨‚å ±å‘Šå…§å®¹å’Œæ ¼å¼"
                }
            }
        };
        
        showResultText('åŠŸèƒ½è©³æƒ…:\\n\\n' + JSON.stringify(features, null, 2));
    }
    
    // é¡¯ç¤ºæ–‡å­—çµæœ
    function showResultText(content) {
        document.getElementById('result-section').style.display = 'block';
        document.getElementById('result-content').textContent = content;
    }
    </script>
</body>
</html>